 <!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<title>SmmCourseViewer - Visual Demonstration</title>
    <!--[if IE]><link rel="shortcut icon" href="img/favicon.ico"><![endif]-->
    <link rel="icon" href="css/favicon.png" />
</head>

<body>
	<input type="file" id="fileInput" name="fileInput" accept=".cdt">
	<p id="courseDisplay">File Data</p>
</body>

<script src="lib/Course.js"></script>
<script src="lib/SmmCourseViewer.js"></script> 
<script>

function handleFileSelect(eventFile) {
	/* get file object */
    let file = eventFile.target.files[0];
	
	/* instance the course viewer */
	let courseViewer = new _SmmCourseViewer();
    courseViewer.read(file, function(eventRead) {
        if(eventRead) {
            console.debug(courseViewer.course);
            document.getElementById('courseDisplay').innerHTML = courseViewer.course.getHtml();
        }
    });
}


window.onload = function() {
	/* check if browser support File Reader */
	if (window.File && window.FileReader && window.FileList && window.Blob) {
  		console.log('File APIs is fully supported!');
  		document.getElementById('fileInput').addEventListener('change', handleFileSelect, false);
	} else {
		console.log('File APIs are not fully supported in this browser.');
	}
}

</script>
</html> 